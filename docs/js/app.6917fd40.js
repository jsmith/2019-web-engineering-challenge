(function(t){function e(e){for(var r,o,s=e[0],c=e[1],u=e[2],f=0,d=[];f<s.length;f++)o=s[f],a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/2019-web-engineering-challenge/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0cfb":function(t,e,n){},"1ea2":function(t,e,n){},"22b5":function(t,e,n){},"5fc4":function(t,e,n){"use strict";var r=n("22b5"),a=n.n(r);a.a},"87b9":function(t,e,n){"use strict";var r=n("e115"),a=n.n(r);a.a},ad91:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("banner"),n("div",{staticClass:"content"},[n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],ref:"input",staticClass:"input",domProps:{value:t.searchText},on:{keydown:t.keydown,input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),n("search-button",{on:{click:t.search}})],1),n("div",{staticClass:"results"},t._l(t.results,function(e){return n("item",{key:e.title,attrs:{title:e.title,body:e.body,favorited:e.id in t.favorites},on:{"update:favorited":function(n){t.checkFavorite(n,e)}}})}),1),n("div",{staticClass:"favorites"},[n("div",{staticClass:"favorites-content"},[n("div",{staticClass:"favorites-title primary--text"},[t._v("Favorites")]),t.showFavorites?n("div",{staticClass:"favorites-items"},t._l(t.favorites,function(e){return n("item",{key:e.title,attrs:{title:e.title,body:e.body,favorited:""},on:{"update:favorited":function(n){t.checkFavorite(n,e)}}})}),1):n("div",[t._v("No favorites selected yet.")])])])])],1)},i=[],o=n("a4bb"),s=n.n(o),c=(n("386d"),n("d225")),u=n("b0b4"),l=n("308d"),f=n("6bb5"),d=n("4e2b"),v=n("9ab4"),p=n("60a3"),h=n("ffe7"),b=n.n(h),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner"},[t._v("Toronto Waste Lookup")])},g=[],m=function(t){function e(){return Object(c["a"])(this,e),Object(l["a"])(this,Object(f["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(p["c"]);m=v["a"]([p["a"]],m);var O=m,j=O,k=(n("5fc4"),n("2877")),w=Object(k["a"])(j,y,g,!1,null,"6bc05163",null);w.options.__file="Banner.vue";var _=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("star",{staticClass:"icon",class:{"primary--text":t.favorited},nativeOn:{click:function(e){return t.toggle(e)}}}),n("div",{staticClass:"title"},[t._v(t._s(t.title))]),n("div",{staticClass:"body",domProps:{innerHTML:t._s(t.html)}})],1)},C=[],T=function(t){function e(){return Object(c["a"])(this,e),Object(l["a"])(this,Object(f["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"toggle",value:function(){this.$emit("update:favorited",!this.favorited)}},{key:"html",get:function(){var t=document.createElement("textarea");return t.innerHTML=this.body,t.value}}]),e}(p["c"]);v["a"]([Object(p["b"])({type:String,required:!0})],T.prototype,"title",void 0),v["a"]([Object(p["b"])({type:String,required:!0})],T.prototype,"body",void 0),v["a"]([Object(p["b"])({type:Boolean,required:!0})],T.prototype,"favorited",void 0),T=v["a"]([p["a"]],T);var S=T,E=S,P=(n("87b9"),Object(k["a"])(E,x,C,!1,null,"5c958a78",null));P.options.__file="Item.vue";var $=P.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"search-button primary",on:{click:function(e){t.$emit("click",e)}}},[n("magnify",{staticClass:"icon",attrs:{scale:"1.5"}})],1)},M=[],A=function(t){function e(){return Object(c["a"])(this,e),Object(l["a"])(this,Object(f["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(p["c"]);A=v["a"]([p["a"]],A);var B=A,N=B,q=(n("fd1a"),Object(k["a"])(N,F,M,!1,null,"558d2f9d",null));q.options.__file="SearchButton.vue";var L=q.exports,H="https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000",J=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(l["a"])(this,Object(f["a"])(e).apply(this,arguments)),t.searchText="",t.favorites={},t.results=[],t.raw=[],t}return Object(d["a"])(e,t),Object(u["a"])(e,[{key:"keydown",value:function(t){13===t.keyCode&&this.search()}},{key:"search",value:function(){this.madeApiCall?this.results=this.fuse.search(this.searchText):this.getData(this.search)}},{key:"getData",value:function(t){var e=this,n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(e.raw=JSON.parse(n.responseText),t())},n.open("GET",H,!0),n.send()}},{key:"checkFavorite",value:function(t,e){t?this.$set(this.favorites,e.id,e):p["c"].delete(this.favorites,e.id)}},{key:"mounted",value:function(){var t=this.$refs.input;t.focus()}},{key:"clearOnEmpty",value:function(){""===this.searchText&&(this.results=[])}},{key:"showFavorites",get:function(){return!!s()(this.favorites).length}},{key:"fuse",get:function(){return new b.a(this.raw,{keys:["title","keywords"],threshold:0,tokenize:!0})}},{key:"madeApiCall",get:function(){return this.raw.length}}]),e}(p["c"]);v["a"]([Object(p["d"])("searchText")],J.prototype,"clearOnEmpty",null),J=v["a"]([Object(p["a"])({components:{Banner:_,SearchButton:L,Item:$}})],J);var z=J,D=z,I=(n("cf25"),Object(k["a"])(D,a,i,!1,null,null,null));I.options.__file="App.vue";var R=I.exports,G=n("2f62");r["default"].use(G["a"]);var W=new G["a"].Store({state:{},mutations:{},actions:{}}),X=n("9483");Object(X["a"])("".concat("/2019-web-engineering-challenge/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d48d"),n("1ea2");var K=n("3d10"),Q=n("7a20"),U=n("bbc4"),V=function(){r["default"].component("Star",K["a"]),r["default"].component("StarOutline",Q["a"]),r["default"].component("Magnify",U["a"])};r["default"].config.productionTip=!1,V(),new r["default"]({store:W,render:function(t){return t(R)}}).$mount("#app")},cf25:function(t,e,n){"use strict";var r=n("0cfb"),a=n.n(r);a.a},e115:function(t,e,n){},fd1a:function(t,e,n){"use strict";var r=n("ad91"),a=n.n(r);a.a}});
//# sourceMappingURL=app.6917fd40.js.map