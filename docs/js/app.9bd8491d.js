(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],f=0,d=[];f<s.length;f++)o=s[f],a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/2019-web-engineering-challenge/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0cfb":function(e,t,n){},"1ea2":function(e,t,n){},"22b5":function(e,t,n){},"5fc4":function(e,t,n){"use strict";var r=n("22b5"),a=n.n(r);a.a},"87b9":function(e,t,n){"use strict";var r=n("e115"),a=n.n(r);a.a},ad91:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("banner"),n("div",{staticClass:"content"},[n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"input",staticClass:"input",domProps:{value:e.searchText},on:{keydown:e.keydown,input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),n("search-button",{on:{click:e.search}})],1),n("div",{staticClass:"results"},e._l(e.results,function(t){return n("item",{key:t.title,attrs:{title:t.title,body:t.body,favorited:t.id in e.favorites},on:{"update:favorited":function(n){e.checkFavorite(n,t)}}})}),1),n("div",{staticClass:"favorites"},[n("div",{staticClass:"favorites-content"},[n("div",{staticClass:"favorites-title primary--text"},[e._v("Favorites")]),e.showFavorites?n("div",{staticClass:"favorites-items"},e._l(e.favorites,function(t){return n("item",{key:t.title,attrs:{title:t.title,body:t.body,favorited:""},on:{"update:favorited":function(n){e.checkFavorite(n,t.id)}}})}),1):n("div",[e._v("No favorites selected yet.")])])])])],1)},i=[],o=n("a4bb"),s=n.n(o),c=(n("386d"),n("d225")),u=n("b0b4"),l=n("308d"),f=n("6bb5"),d=n("4e2b"),v=n("9ab4"),p=n("60a3"),h=n("ffe7"),b=n.n(h),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"banner"},[e._v("Toronto Waste Lookup")])},g=[],m=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(p["c"]);m=v["a"]([p["a"]],m);var O=m,w=O,j=(n("5fc4"),n("2877")),k=Object(j["a"])(w,y,g,!1,null,"6bc05163",null);k.options.__file="Banner.vue";var _=k.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("star",{staticClass:"icon",class:{"primary--text":e.favorited},nativeOn:{click:function(t){return e.toggle(t)}}}),n("div",{staticClass:"title"},[e._v(e._s(e.title))]),n("div",{staticClass:"body",domProps:{innerHTML:e._s(e.html)}})],1)},C=[],S=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"toggle",value:function(){this.$emit("update:favorited",!this.favorited)}},{key:"html",get:function(){var e=document.createElement("textarea");return e.innerHTML=this.body,e.value}}]),t}(p["c"]);v["a"]([Object(p["b"])({type:String,required:!0})],S.prototype,"title",void 0),v["a"]([Object(p["b"])({type:String,required:!0})],S.prototype,"body",void 0),v["a"]([Object(p["b"])({type:Boolean,required:!0})],S.prototype,"favorited",void 0),S=v["a"]([p["a"]],S);var T=S,E=T,P=(n("87b9"),Object(j["a"])(E,x,C,!1,null,"5c958a78",null));P.options.__file="Item.vue";var $=P.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"search-button primary",on:{click:function(t){e.$emit("click",t)}}},[n("magnify",{staticClass:"icon",attrs:{scale:"1.5"}})],1)},M=[],A=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(p["c"]);A=v["a"]([p["a"]],A);var N=A,B=N,q=(n("fd1a"),Object(j["a"])(B,F,M,!1,null,"558d2f9d",null));q.options.__file="SearchButton.vue";var I=q.exports,J="https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000",L=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.searchText="",e.favorites={},e.results=[],e.raw=JSON.parse(localStorage.getItem("raw")||"[]"),e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"keydown",value:function(e){13===e.keyCode&&this.search()}},{key:"search",value:function(){this.madeApiCall?this.results=this.fuse.search(this.searchText):this.getData(this.search)}},{key:"getData",value:function(e){var t=this,n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(t.raw=JSON.parse(n.responseText),localStorage.setItem("raw",n.responseText),e())},n.open("GET",J,!0),n.send()}},{key:"checkFavorite",value:function(e,t){e?this.$set(this.favorites,t.id,t):p["c"].delete(this.favorites,t.id)}},{key:"mounted",value:function(){var e=this.$refs.input;e.focus()}},{key:"clearOnEmpty",value:function(){""===this.searchText&&(this.results=[])}},{key:"showFavorites",get:function(){return!!s()(this.favorites).length}},{key:"fuse",get:function(){return new b.a(this.raw,{keys:["title","keywords"],threshold:0,tokenize:!0})}},{key:"madeApiCall",get:function(){return this.raw.length}}]),t}(p["c"]);v["a"]([Object(p["d"])("searchText")],L.prototype,"clearOnEmpty",null),L=v["a"]([Object(p["a"])({components:{Banner:_,SearchButton:I,Item:$}})],L);var H=L,z=H,D=(n("cf25"),Object(j["a"])(z,a,i,!1,null,null,null));D.options.__file="App.vue";var R=D.exports,G=n("2f62");r["default"].use(G["a"]);var W=new G["a"].Store({state:{},mutations:{},actions:{}}),X=n("9483");Object(X["a"])("".concat("/2019-web-engineering-challenge/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d48d"),n("1ea2");var K=n("3d10"),Q=n("7a20"),U=n("bbc4"),V=function(){r["default"].component("Star",K["a"]),r["default"].component("StarOutline",Q["a"]),r["default"].component("Magnify",U["a"])};r["default"].config.productionTip=!1,V(),new r["default"]({store:W,render:function(e){return e(R)}}).$mount("#app")},cf25:function(e,t,n){"use strict";var r=n("0cfb"),a=n.n(r);a.a},e115:function(e,t,n){},fd1a:function(e,t,n){"use strict";var r=n("ad91"),a=n.n(r);a.a}});
//# sourceMappingURL=app.9bd8491d.js.map